<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet href="https://blog.wedrop.it/feed_style.xsl" type="text/xsl"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
    <tabi:metadata xmlns:tabi="https://github.com/welpo/tabi">
        <tabi:base_url>https:&#x2F;&#x2F;blog.wedrop.it</tabi:base_url>
        <tabi:separator>
            •
        </tabi:separator>
        <tabi:about_feeds>This is a web feed, also known as an Atom feed. Subscribe by copying the URL from the address bar into your newsreader. Visit About Feeds to learn more and get started. It&#x27;s free.</tabi:about_feeds>
        <tabi:visit_the_site>Visit website</tabi:visit_the_site>
        <tabi:recent_posts>Recent posts</tabi:recent_posts>
        <tabi:last_updated_on>Updated on $DATE</tabi:last_updated_on>
        <tabi:default_theme></tabi:default_theme>
        <tabi:post_listing_date>date</tabi:post_listing_date>
        <tabi:current_section>linux</tabi:current_section>
    </tabi:metadata><title>Drop a Blog - linux</title>
        <subtitle>Rants and musings of a software architect</subtitle>
    <link href="https://blog.wedrop.it/tags/linux/atom.xml" rel="self" type="application/atom+xml"/>
    <link href="https://blog.wedrop.it/tags/linux/" rel="alternate" type="text/html"/>
    <generator uri="https://www.getzola.org/">Zola</generator>
    <updated>2015-08-24T00:00:00+00:00</updated>
    <id>https://blog.wedrop.it/tags/linux/atom.xml</id><entry xml:lang="en">
        <title>Building GCC</title>
        <published>2015-08-24T00:00:00+00:00</published>
        <updated>2015-08-24T00:00:00+00:00</updated>
        <author>
            <name>Sebastian Lauwers</name>
        </author>
        <link rel="alternate" href="https://blog.wedrop.it/blog/building-gcc/" type="text/html"/>
        <id>https://blog.wedrop.it/blog/building-gcc/</id>
        
            <content type="html">&lt;p&gt;There’s a &lt;a href=&quot;https:&#x2F;&#x2F;gcc.gnu.org&#x2F;bugzilla&#x2F;show_bug.cgi?id=66857&quot;&gt;nasty bug&lt;&#x2F;a&gt; that plagues GCC 5.1 (the current version of GCC in Fedora 22), which
blocks the unit tests for Realm. Instead of going to the very bleeding edge, I’ve decided to compile
version 4.9.3 and keep that as a backup to run tests and whatnot. The bug has been fixed and should
be part of the GCC 5.3 release, so we’ll just have to be patient until then.&lt;&#x2F;p&gt;
&lt;p&gt;Sometimes, Fedora’s race-to-the-new can bite you a tiny bit.&lt;&#x2F;p&gt;
&lt;p&gt;There are a couple of dependencies needed other than the usual build tools:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; class=&quot;language-bash z-code&quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;z-source z-shell z-bash&quot;&gt;&lt;span class=&quot;z-meta z-function-call z-shell&quot;&gt;&lt;span class=&quot;z-variable z-function z-shell&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;z-meta z-function-call z-arguments z-shell&quot;&gt; dnf install&lt;span class=&quot;z-variable z-parameter z-option z-shell&quot;&gt;&lt;span class=&quot;z-punctuation z-definition z-parameter z-shell&quot;&gt; -&lt;&#x2F;span&gt;y&lt;&#x2F;span&gt; gmp-devel mpfr-devel libmpc-devel&lt;&#x2F;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;It’s fairly simple to build GCC. I wouldn’t expect otherwise, frankly:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; class=&quot;language-bash z-code&quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;z-source z-shell z-bash&quot;&gt;&lt;span class=&quot;z-meta z-function-call z-shell&quot;&gt;&lt;span class=&quot;z-support z-function z-cd z-shell&quot;&gt;cd&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;z-meta z-function-call z-arguments z-shell&quot;&gt; src&#x2F;foss&lt;&#x2F;span&gt; &lt;span class=&quot;z-keyword z-operator z-logical z-and z-shell&quot;&gt;&amp;amp;&amp;amp;&lt;&#x2F;span&gt; &lt;span class=&quot;z-punctuation z-separator z-continuation z-line z-shell&quot;&gt;\
&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;z-source z-shell z-bash&quot;&gt;  &lt;span class=&quot;z-meta z-function-call z-shell&quot;&gt;&lt;span class=&quot;z-variable z-function z-shell&quot;&gt;wget&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;z-meta z-function-call z-arguments z-shell&quot;&gt; http:&#x2F;&#x2F;mirror1.babylon.network&#x2F;gcc&#x2F;releases&#x2F;gcc-4.9.3&#x2F;gcc-4.9.3.tar.bz2&lt;&#x2F;span&gt;
&lt;&#x2F;span&gt;&lt;span class=&quot;z-source z-shell z-bash&quot;&gt;&lt;span class=&quot;z-meta z-function-call z-shell&quot;&gt;&lt;span class=&quot;z-variable z-function z-shell&quot;&gt;tar&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;z-meta z-function-call z-arguments z-shell&quot;&gt; xf gcc-4.9.3.tar.bz2&lt;&#x2F;span&gt; &lt;span class=&quot;z-keyword z-operator z-logical z-and z-shell&quot;&gt;&amp;amp;&amp;amp;&lt;&#x2F;span&gt; &lt;span class=&quot;z-meta z-function-call z-shell&quot;&gt;&lt;span class=&quot;z-support z-function z-cd z-shell&quot;&gt;cd&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;z-meta z-function-call z-arguments z-shell&quot;&gt; gcc-4.9.3&lt;&#x2F;span&gt;
&lt;&#x2F;span&gt;&lt;span class=&quot;z-source z-shell z-bash&quot;&gt;
&lt;&#x2F;span&gt;&lt;span class=&quot;z-source z-shell z-bash&quot;&gt;&lt;span class=&quot;z-meta z-function-call z-shell&quot;&gt;&lt;span class=&quot;z-variable z-function z-shell&quot;&gt;.&#x2F;configure&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;z-meta z-function-call z-arguments z-shell&quot;&gt; &lt;span class=&quot;z-punctuation z-separator z-continuation z-line z-shell&quot;&gt;\
&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;z-source z-shell z-bash&quot;&gt;&lt;span class=&quot;z-meta z-function-call z-arguments z-shell&quot;&gt;&lt;span class=&quot;z-variable z-parameter z-option z-shell&quot;&gt;&lt;span class=&quot;z-punctuation z-definition z-parameter z-shell&quot;&gt;  --&lt;&#x2F;span&gt;prefix&lt;&#x2F;span&gt;&lt;span class=&quot;z-keyword z-operator z-assignment z-option z-shell&quot;&gt;=&lt;&#x2F;span&gt;&lt;span class=&quot;z-meta z-group z-expansion z-parameter z-shell&quot;&gt;&lt;span class=&quot;z-punctuation z-definition z-variable z-shell&quot;&gt;$&lt;&#x2F;span&gt;&lt;span class=&quot;z-variable z-other z-readwrite z-shell&quot;&gt;HOME&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&#x2F;bin&#x2F;gcc-4.9.3&lt;&#x2F;span&gt;
&lt;&#x2F;span&gt;&lt;span class=&quot;z-source z-shell z-bash&quot;&gt;  &lt;span class=&quot;z-variable z-other z-readwrite z-assignment z-shell&quot;&gt;--program-suffix&lt;&#x2F;span&gt;&lt;span class=&quot;z-keyword z-operator z-assignment z-shell&quot;&gt;=&lt;&#x2F;span&gt;&lt;span class=&quot;z-string z-unquoted z-shell&quot;&gt;-4.9.3&lt;&#x2F;span&gt;
&lt;&#x2F;span&gt;&lt;span class=&quot;z-source z-shell z-bash&quot;&gt;&lt;span class=&quot;z-meta z-function-call z-shell&quot;&gt;&lt;span class=&quot;z-variable z-function z-shell&quot;&gt;make&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;z-meta z-function-call z-arguments z-shell&quot;&gt;&lt;span class=&quot;z-variable z-parameter z-option z-shell&quot;&gt;&lt;span class=&quot;z-punctuation z-definition z-parameter z-shell&quot;&gt; -&lt;&#x2F;span&gt;j4&lt;&#x2F;span&gt;&lt;&#x2F;span&gt; &lt;span class=&quot;z-keyword z-operator z-logical z-and z-shell&quot;&gt;&amp;amp;&amp;amp;&lt;&#x2F;span&gt; &lt;span class=&quot;z-meta z-function-call z-shell&quot;&gt;&lt;span class=&quot;z-variable z-function z-shell&quot;&gt;make&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;z-meta z-function-call z-arguments z-shell&quot;&gt; install&lt;&#x2F;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;The &lt;code&gt;$HOME&#x2F;bin&lt;&#x2F;code&gt; directory is already in my &lt;code&gt;PATH&lt;&#x2F;code&gt;, so I’m just going to create a small symlink that
will allow me to call &lt;code&gt;gcc-4.9.3&lt;&#x2F;code&gt; from anywhere.&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; class=&quot;language-bash z-code&quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;z-source z-shell z-bash&quot;&gt;&lt;span class=&quot;z-meta z-function-call z-shell&quot;&gt;&lt;span class=&quot;z-support z-function z-cd z-shell&quot;&gt;cd&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;z-meta z-function-call z-arguments z-shell&quot;&gt; &lt;span class=&quot;z-meta z-group z-expansion z-parameter z-shell&quot;&gt;&lt;span class=&quot;z-punctuation z-definition z-variable z-shell&quot;&gt;$&lt;&#x2F;span&gt;&lt;span class=&quot;z-variable z-other z-readwrite z-shell&quot;&gt;HOME&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&#x2F;bin&lt;&#x2F;span&gt;
&lt;&#x2F;span&gt;&lt;span class=&quot;z-source z-shell z-bash&quot;&gt;&lt;span class=&quot;z-meta z-function-call z-shell&quot;&gt;&lt;span class=&quot;z-variable z-function z-shell&quot;&gt;ln&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;z-meta z-function-call z-arguments z-shell&quot;&gt;&lt;span class=&quot;z-variable z-parameter z-option z-shell&quot;&gt;&lt;span class=&quot;z-punctuation z-definition z-parameter z-shell&quot;&gt; -&lt;&#x2F;span&gt;s&lt;&#x2F;span&gt; gcc-4.9.3&#x2F;bin&#x2F;gcc-4.9.3 gcc-4.9&lt;&#x2F;span&gt;
&lt;&#x2F;span&gt;&lt;span class=&quot;z-source z-shell z-bash&quot;&gt;&lt;span class=&quot;z-meta z-function-call z-shell&quot;&gt;&lt;span class=&quot;z-variable z-function z-shell&quot;&gt;ln&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;z-meta z-function-call z-arguments z-shell&quot;&gt;&lt;span class=&quot;z-variable z-parameter z-option z-shell&quot;&gt;&lt;span class=&quot;z-punctuation z-definition z-parameter z-shell&quot;&gt; -&lt;&#x2F;span&gt;s&lt;&#x2F;span&gt; gcc-4.9.3&#x2F;bin&#x2F;g++-4.9.3 g++-4.9&lt;&#x2F;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Be aware that compiled, GCC does take a fair amount of space:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; class=&quot;language-bash z-code&quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;z-source z-shell z-bash&quot;&gt;&lt;span class=&quot;z-meta z-function-call z-shell&quot;&gt;&lt;span class=&quot;z-variable z-function z-shell&quot;&gt;du&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;z-meta z-function-call z-arguments z-shell&quot;&gt;&lt;span class=&quot;z-variable z-parameter z-option z-shell&quot;&gt;&lt;span class=&quot;z-punctuation z-definition z-parameter z-shell&quot;&gt; -&lt;&#x2F;span&gt;sh&lt;&#x2F;span&gt; &lt;span class=&quot;z-meta z-group z-expansion z-parameter z-shell&quot;&gt;&lt;span class=&quot;z-punctuation z-definition z-variable z-shell&quot;&gt;$&lt;&#x2F;span&gt;&lt;span class=&quot;z-variable z-other z-readwrite z-shell&quot;&gt;HOME&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&#x2F;bin&#x2F;gcc-4.9.3&lt;&#x2F;span&gt;
&lt;&#x2F;span&gt;&lt;span class=&quot;z-source z-shell z-bash&quot;&gt;&lt;span class=&quot;z-meta z-function-call z-shell&quot;&gt;&lt;span class=&quot;z-variable z-function z-shell&quot;&gt;1.1G&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;z-meta z-function-call z-arguments z-shell&quot;&gt;  &#x2F;home&#x2F;slau&#x2F;bin&#x2F;gcc-4.9.3&lt;&#x2F;span&gt;
&lt;&#x2F;span&gt;&lt;span class=&quot;z-source z-shell z-bash&quot;&gt;&lt;span class=&quot;z-meta z-function-call z-shell&quot;&gt;&lt;span class=&quot;z-variable z-function z-shell&quot;&gt;du&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;z-meta z-function-call z-arguments z-shell&quot;&gt;&lt;span class=&quot;z-variable z-parameter z-option z-shell&quot;&gt;&lt;span class=&quot;z-punctuation z-definition z-parameter z-shell&quot;&gt; -&lt;&#x2F;span&gt;sh&lt;&#x2F;span&gt; &lt;span class=&quot;z-meta z-group z-expansion z-parameter z-shell&quot;&gt;&lt;span class=&quot;z-punctuation z-definition z-variable z-shell&quot;&gt;$&lt;&#x2F;span&gt;&lt;span class=&quot;z-variable z-other z-readwrite z-shell&quot;&gt;HOME&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&#x2F;src&#x2F;foss&#x2F;gcc-4.9.3&lt;&#x2F;span&gt;
&lt;&#x2F;span&gt;&lt;span class=&quot;z-source z-shell z-bash&quot;&gt;&lt;span class=&quot;z-meta z-function-call z-shell&quot;&gt;&lt;span class=&quot;z-variable z-function z-shell&quot;&gt;5.5G&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;z-meta z-function-call z-arguments z-shell&quot;&gt;  &#x2F;home&#x2F;slau&#x2F;src&#x2F;foss&#x2F;gcc-4.9.3&lt;&#x2F;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;So yeah, there’s that to keep in mind.&lt;&#x2F;p&gt;
</content>
        <summary type="html">A look at how to build a backup version of GCC in case something goes wrong with
the version provided by your distribution&#x27;s package manager.&quot;</summary>
        </entry><entry xml:lang="en">
        <title>Fedora 22 WiFi problems</title>
        <published>2015-06-17T00:00:00+00:00</published>
        <updated>2015-06-17T00:00:00+00:00</updated>
        <author>
            <name>Sebastian Lauwers</name>
        </author>
        <link rel="alternate" href="https://blog.wedrop.it/blog/fedora-22-wifi-problems/" type="text/html"/>
        <id>https://blog.wedrop.it/blog/fedora-22-wifi-problems/</id>
        
            <content type="html">&lt;p&gt;I went to the office today (well, technically, yesterday) to take care of the final paperwork, get
my final paycheck and stuff (more on that in another post, hopefully). I wanted to do some cleaning
in order to get a nice break after this gig, so I decided to update my computers to Fedora 22. The
process ran perfectly on most computers, but on my netbook I had a small kink: WiFi didn’t work
anymore.&lt;&#x2F;p&gt;
&lt;p&gt;I didn’t have much to go on, as the logs didn’t indicate a lot. I noticed that a number of packages
from F21 had been carried over to F22, so I did a bit of cleaning in that regard:&lt;&#x2F;p&gt;
&lt;pre class=&quot;z-code&quot;&gt;&lt;code&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;sudo dnf remove kernel-modules-4.0.4-202.fc21.x86_64 \
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;    kernel-modules-3.19.5-200.fc21.x86_64 \
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;    kernel-modules-extra-3.19.5-200.fc21.x86_64
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;I noticed that I didn’t have any &lt;code&gt;wl&lt;&#x2F;code&gt; kernel module, so figured that &lt;code&gt;akmod&lt;&#x2F;code&gt; or &lt;code&gt;kmod&lt;&#x2F;code&gt; was not
working as expected. I forced the reinstallation of the latest kernel:&lt;&#x2F;p&gt;
&lt;pre class=&quot;z-code&quot;&gt;&lt;code&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;sudo dnf reinstall kernel kernel-devel
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Take note of the version being installed. For me, it was &lt;code&gt;4.0.4-303.fc22.x86_64&lt;&#x2F;code&gt;. Reboot, and make
sure you select the right kernel when Grub prompts the list of kernels. &lt;code&gt;akmod&lt;&#x2F;code&gt; is very difficult to
debug, mainly because of the clusterfuck that is systemd. The best way is by forcing the modules to
rebuild manually, and seeing what the errors are.&lt;&#x2F;p&gt;
&lt;p&gt;As a non-privileged user, run &lt;code&gt;akmodsbuild&lt;&#x2F;code&gt; to see if your system has everything it needs to
actually build the modules. Be warned that this checks the running kernel, so if you didn’t reboot,
you may not have the necessary directories and files.&lt;&#x2F;p&gt;
&lt;p&gt;Lastly, simply run the following commands to get WiFi up and running again:&lt;&#x2F;p&gt;
&lt;pre class=&quot;z-code&quot;&gt;&lt;code&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;sudo akmods --force
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;sudo modprobe wl
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;NetworkManager should pick up on the new network interface and connect you automagically.&lt;&#x2F;p&gt;
&lt;p&gt;Happy surfing!&lt;&#x2F;p&gt;
</content>
        <summary type="html">How to fix `wl` not being present after an upgrade to Fedora 22</summary>
        </entry><entry xml:lang="en">
        <title>Fedora 21 VPN problems</title>
        <published>2015-02-03T00:00:00+00:00</published>
        <updated>2015-02-03T00:00:00+00:00</updated>
        <author>
            <name>Sebastian Lauwers</name>
        </author>
        <link rel="alternate" href="https://blog.wedrop.it/blog/fedora-21-vpn-problems/" type="text/html"/>
        <id>https://blog.wedrop.it/blog/fedora-21-vpn-problems/</id>
        
            <content type="html">&lt;p&gt;At the office, a few us use Fedora. The main reasons are that it’s a fairly good desktop
distribution, and the software is nice and bleeding edge; perfect for developers. But sometimes, it
breaks.&lt;&#x2F;p&gt;
&lt;p&gt;I’m still on Fedora 20, but a handful of coworkers have either upgraded to Fedora 21 or installed
the latest version because they recently got new computers (and crunchbang doesn’t play well with
newer Haswell setups).  All the new setups had one problem: they couldn’t connect to one of our
VPNs. We’re in the process of migrating to &lt;a href=&quot;https:&#x2F;&#x2F;www.softether.org&#x2F;&quot;&gt;SoftEther&lt;&#x2F;a&gt;, but this particular VPN still
uses PPTP while we validate that SoftEther can handle our load.&lt;&#x2F;p&gt;
&lt;p&gt;So what happened? The short answer is that the VPN wouldn’t connect. It would take ages for the
connection attempt to fail, and &lt;a href=&quot;https:&#x2F;&#x2F;gist.github.com&#x2F;slauwers&#x2F;ac2cd840aef6f3bbea84&quot;&gt;in the logs&lt;&#x2F;a&gt;, we’d see something along the lines of:&lt;&#x2F;p&gt;
&lt;pre class=&quot;z-code&quot;&gt;&lt;code&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;LCP: timeout sending Config-Requests
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;After &lt;a href=&quot;http:&#x2F;&#x2F;askubuntu.com&#x2F;questions&#x2F;572497&#x2F;cant-connect-to-pptp-vpn-with-ufw-enabled-on-ubuntu-14-04-with-kernel-3-18&quot;&gt;a bit of digging&lt;&#x2F;a&gt;, it turns out that there are a few packets that &lt;a href=&quot;http:&#x2F;&#x2F;marc.info&#x2F;?l=netfilter&amp;amp;m=142195881513706&quot;&gt;are being
blocked by the firewall since the 3.18 kernel&lt;&#x2F;a&gt;:&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;As expected, with the 3.2.x kernel :&lt;&#x2F;p&gt;
&lt;p&gt;if neither nf_conntrack_proto_gre nor nf_conntrack_pptp are loaded, the first GRE packet of a
plain GRE tunnel (as set by ip tunnel) or a PPTP connection is NEW ;&lt;&#x2F;p&gt;
&lt;p&gt;[…]&lt;&#x2F;p&gt;
&lt;p&gt;What has changed with the 3.18.x kernel : if neither nf_conntrack_pptp nor nf_conntrack_proto_gre
are loaded, any GRE packet is INVALID.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;The solution, thus, both on Ubuntu and Fedora (and I expect others as well) is to always load the
&lt;code&gt;nf_conntrack_pptp&lt;&#x2F;code&gt; module.&lt;&#x2F;p&gt;
&lt;pre class=&quot;z-code&quot;&gt;&lt;code&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;# Fedora
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;echo nf_conntrack_pptp | sudo tee &#x2F;etc&#x2F;modules-load.d&#x2F;pptp-firewall.conf
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;sudo modprobe nf_conntrack_pptp
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;# Ubuntu and friends
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;echo nf_conntrack_pptp | sudo tee &#x2F;etc&#x2F;modules&#x2F;pptp-firewall.conf
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;sudo modprobe nf_conntrack_pptp
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Happy connecting!&lt;&#x2F;p&gt;
</content>
        <summary type="html">At the office, a few us use Fedora. The main reasons are that it&#x27;s a fairly good
desktop distribution, and the software is nice and bleeding edge; perfect for developers. But
sometimes, it breaks.</summary>
        </entry>
</feed>
